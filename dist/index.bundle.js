(self["webpackChunkbattleship_game"] = self["webpackChunkbattleship_game"] || []).push([["index"],{

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ (() => {

// import './style.css';
var userBoard = document.querySelector('[data-user-board]');
var computerBoard = document.querySelector('[data-computer-board]');
var destroyer = document.querySelector('[data-destroyer-ship]');
var submarine = document.querySelector('[data-submarine-ship]');
var cruiser = document.querySelector('[data-cruiser-ship]');
var battleship = document.querySelector('[data-battleship-ship]');
var carrier = document.querySelector('[data-carrier-ship]');
var startButton = document.querySelector('[data-start-button]');
var rotateButton = document.querySelector('[data-rotate-button]');
var ships = document.querySelectorAll('.ship');
var shipsContainer = document.querySelector('[data-ships-container]');
var turnDisplay = document.querySelector('[data-turn-display]');
var infoDisplay = document.querySelector('[data-info-display]');
var playerSquares = [];
var computerSquares = [];
var width = 10;
var isHorizontal = true;
var isGameOver = false;
var currentPlayer = 'user';
var selectedShipNameWithIndex;
var draggedShip;
var draggedShipLength;
var playerTotal;
var computerTotal; // Create board

function displayBoard(grid, squares) {
  for (var i = 0; i < width * width; i += 1) {
    var square = document.createElement('div');
    square.dataset.id = i;
    grid.appendChild(square);
    squares.push(square);
  }
}

var createShips = function createShips() {
  return [{
    name: 'destroyer',
    directions: [[0, 1], [0, width]]
  }, {
    name: 'submarine',
    directions: [[0, 1, 2], [0, width, width * 2]]
  }, {
    name: 'cruiser',
    directions: [[0, 1, 2], [0, width, width * 2]]
  }, {
    name: 'battleship',
    directions: [[0, 1, 2, 3], [0, width, width * 2, width * 3]]
  }, {
    name: 'carrier',
    directions: [[0, 1, 2, 3, 4], [0, width, width * 2, width * 3, width * 4]]
  }];
};

function displayShipsRandom(ship) {
  var randomStart;
  var randomDirection = Math.floor(Math.random() * 2); // 0 or 1

  var current = ship.directions[randomDirection];

  if (randomDirection === 0) {
    randomStart = Math.abs(Math.floor(Math.random() * computerSquares.length - ship.directions[0].length * 1));
  } else {
    randomStart = Math.abs(Math.floor(Math.random() * computerSquares.length - ship.directions[0].length * 10));
  }

  var isTaken = current.some(function (index) {
    return computerSquares[randomStart + index].classList.contains('taken');
  });
  var isAtRightEdge = current.some(function (index) {
    return (randomStart + index) % width === width - 1;
  });
  var isAtLeftEdge = current.some(function (index) {
    return (randomStart + index) % width === 0;
  });

  if (!isTaken && !isAtRightEdge && !isAtLeftEdge) {
    current.forEach(function (index) {
      return computerSquares[randomStart + index].classList.add('taken', ship.name);
    });
  } else displayShipsRandom(ship);
}

function displayComputerShips(battleShips) {
  for (var i = 0; i < 5; i += 1) {
    displayShipsRandom(battleShips[i]);
  }
}

function rotateShips() {
  if (isHorizontal) {
    destroyer.classList.toggle('destroyer-container-vertical');
    submarine.classList.toggle('submarine-container-vertical');
    cruiser.classList.toggle('cruiser-container-vertical');
    battleship.classList.toggle('battleship-container-vertical');
    carrier.classList.toggle('carrier-container-vertical');
    isHorizontal = !isHorizontal;
  } else if (!isHorizontal) {
    destroyer.classList.toggle('destroyer-container-vertical');
    submarine.classList.toggle('submarine-container-vertical');
    cruiser.classList.toggle('cruiser-container-vertical');
    battleship.classList.toggle('battleship-container-vertical');
    carrier.classList.toggle('carrier-container-vertical');
    isHorizontal = !isHorizontal;
  }
}

function dragDrop() {
  // Get id of the last child of `${nameOfShip}-container`
  var shipNameWithLastId = draggedShip.lastElementChild.id; // Remove the last 2 letters of the string

  var shipClass = shipNameWithLastId.slice(0, -2); // Get the last letter of the string and convert to an Integer

  var lastShipIndex = parseInt(shipNameWithLastId.substr(-1), 10); // Last ship index - dataset of the div in which the div was placed

  var shipLastId = lastShipIndex + parseInt(this.dataset.id, 10);
  var notAllowedHorizontal = [0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 1, 11, 21, 31, 41, 51, 61, 71, 81, 91, 2, 22, 32, 42, 52, 62, 72, 82, 92, 3, 13, 23, 33, 43, 53, 63, 73, 83, 93];
  var notAllowedVertical = [99, 98, 97, 96, 95, 94, 93, 92, 91, 90, 89, 88, 87, 86, 85, 84, 83, 82, 81, 80, 79, 78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60]; // Return an array containing the first x amount of items (x = 0, 10 * lastShipIndex)

  var newNotAllowedHorizontal = notAllowedHorizontal.splice(0, 10 * lastShipIndex);
  var newNotAllowedVertical = notAllowedVertical.splice(0, 10 * lastShipIndex); // Get id of the child of the ship-container that was "mousedown" then get last char

  var selectedShipIndex = parseInt(selectedShipNameWithIndex.substr(-1), 10);
  shipLastId -= selectedShipIndex;
  var shipHorizontal = [];
  var shipVertical = [];
  var isDivTaken;

  var checkArray = function checkArray(array) {
    if (array.includes(true)) return true;
    return false;
  };

  if (isHorizontal) {
    for (var i = 0; i < draggedShipLength; i += 1) {
      var isTaken = playerSquares[parseInt(this.dataset.id, 10) - selectedShipIndex + i].classList.contains('taken');
      shipHorizontal.push(isTaken);
      isDivTaken = checkArray(shipHorizontal);
    }
  } else if (!isHorizontal) {
    for (var _i = 0; _i < draggedShipLength; _i += 1) {
      var _isTaken = playerSquares[parseInt(this.dataset.id, 10) - selectedShipIndex + width * _i].classList.contains('taken');

      shipVertical.push(_isTaken);
      isDivTaken = checkArray(shipVertical);
    }
  }

  if (!isDivTaken && isHorizontal && !newNotAllowedHorizontal.includes(shipLastId)) {
    for (var _i2 = 0; _i2 < draggedShipLength; _i2 += 1) {
      var directionClass = void 0;
      if (_i2 === 0) directionClass = 'start';
      if (_i2 !== 0 && _i2 !== draggedShipLength - 1) directionClass = 'middle';
      if (_i2 === draggedShipLength - 1) directionClass = 'end';

      playerSquares[parseInt(this.dataset.id, 10) - selectedShipIndex + _i2].classList.add('taken', 'horizontal', directionClass, shipClass);
    }
  } else if (!isDivTaken && !isHorizontal && !newNotAllowedVertical.includes(shipLastId)) {
    for (var _i3 = 0; _i3 < draggedShipLength; _i3 += 1) {
      var _directionClass = void 0;

      if (_i3 === 0) _directionClass = 'start';
      if (_i3 !== 0 && _i3 !== draggedShipLength - 1) _directionClass = 'middle';
      if (_i3 === draggedShipLength - 1) _directionClass = 'end';

      playerSquares[parseInt(this.dataset.id, 10) - selectedShipIndex + width * _i3].classList.add('taken', 'vertical', shipClass, _directionClass);
    }
  } else return;

  shipsContainer.removeChild(draggedShip);
}

function dragStart() {
  draggedShip = this;
  draggedShipLength = this.children.length;
}

function preventEventDefault(e) {
  e.preventDefault();
}

function dragShips(ships) {
  ships.forEach(function (ship) {
    return ship.addEventListener('dragstart', dragStart);
  });
  ships.forEach(function (ship) {
    return ship.addEventListener('mousedown', function (e) {
      selectedShipNameWithIndex = e.target.id;
    });
  });
}

function dragSquares(playerSquares) {
  playerSquares.forEach(function (square) {
    return square.addEventListener('dragstart', dragStart);
  });
  playerSquares.forEach(function (square) {
    return square.addEventListener('dragover', preventEventDefault);
  });
  playerSquares.forEach(function (square) {
    return square.addEventListener('dragenter', preventEventDefault);
  });
  playerSquares.forEach(function (square) {
    return square.addEventListener('drop', dragDrop);
  });
}

function createShipsTally() {
  return {
    destroyer: 0,
    submarine: 0,
    cruiser: 0,
    battleship: 0,
    carrier: 0
  };
}

var playerScore = createShipsTally();
var computerScore = createShipsTally();

function changeTurn() {
  if (currentPlayer === 'computer') {
    currentPlayer = 'user';
  } else if (currentPlayer === 'user') {
    currentPlayer = 'computer';
  }
}

function checkHit(square) {
  if (square.classList.contains('boom')) {
    if (square.classList.contains('destroyer')) playerScore.destroyer += 1;
    if (square.classList.contains('submarine')) playerScore.submarine += 1;
    if (square.classList.contains('cruiser')) playerScore.cruiser += 1;
    if (square.classList.contains('battleship')) playerScore.battleship += 1;
    if (square.classList.contains('carrier')) playerScore.carrier += 1;
    checkShips();
  }
}

function checkAccuracy(square) {
  if (!square.classList.contains('boom') && !square.classList.contains('miss')) {
    if (square.classList.contains('taken')) {
      square.classList.add('boom');
    } else {
      square.classList.add('miss');
    }

    checkHit(square);
    changeTurn();
  }
}

function revealSquare(square) {
  if (isGameOver) return;

  if (currentPlayer === 'user') {
    checkAccuracy(square);
    playTurn();
  }
}

function computerGo() {
  var random = Math.floor(Math.random() * playerSquares.length);

  if (!playerSquares[random].classList.contains('boom')) {
    playerSquares[random].classList.add('boom');

    if (playerSquares[random].classList.contains('destroyer')) {
      computerScore.destroyer += 1;
    }

    if (playerSquares[random].classList.contains('submarine')) {
      computerScore.submarine += 1;
    }

    if (playerSquares[random].classList.contains('cruiser')) {
      computerScore.cruiser += 1;
    }

    if (playerSquares[random].classList.contains('battleship')) {
      computerScore.battleship += 1;
    }

    if (playerSquares[random].classList.contains('carrier')) {
      computerScore.carrier += 1;
    }
  } else computerGo();

  checkShips();
  currentPlayer = 'user';
  turnDisplay.innerHTML = 'Your Go';
}

function playTurn() {
  if (currentPlayer === 'user') {
    turnDisplay.innerHTML = 'Your Go';
  } else if (currentPlayer === 'computer') {
    turnDisplay.innerHTML = 'Computers Go';
    setTimeout(computerGo, 100);
    checkForWins();
    changeTurn();
  }
}

function playGame() {
  computerSquares.forEach(function (square) {
    return square.addEventListener('click', function () {
      revealSquare(square);
    });
  });
  playTurn();
}

function gameOver() {
  isGameOver = true;
  startButton.removeEventListener('click', playGame);
}

function runGame() {
  displayBoard(userBoard, playerSquares);
  displayBoard(computerBoard, computerSquares);
  var battleShips = createShips();
  displayComputerShips(battleShips);
  rotateButton.addEventListener('click', rotateShips);
  dragShips(ships);
  dragSquares(playerSquares);
  startButton.addEventListener('click', playGame);
}

runGame();

function checkComputerShips() {
  if (computerScore.destroyer === 2) {
    infoDisplay.innerHTML = 'Computer  sunk the computers Destroyer';
    computerScore.destroyer = 10;
  }

  if (computerScore.submarine === 3) {
    infoDisplay.innerHTML = 'Computer  sunk the computers Submarine';
    computerScore.submarine = 10;
  }

  if (computerScore.cruiser === 3) {
    infoDisplay.innerHTML = 'Computer  sunk the computers Cruiser';
    computerScore.cruiser = 10;
  }

  if (computerScore.battleship === 4) {
    infoDisplay.innerHTML = 'Computer  sunk the computers Battleship';
    computerScore.battleship = 10;
  }

  if (computerScore.carrier === 5) {
    infoDisplay.innerHTML = 'Computer sunk the computers Carrier';
    computerScore.carrier = 10;
  }
}

function checkPlayerShips() {
  if (playerScore.destroyer === 2) {
    infoDisplay.innerHTML = 'You sunk the computers destroyer';
    playerScore.destroyer = 10;
  }

  if (playerScore.submarine === 3) {
    infoDisplay.innerHTML = 'You sunk the computers submarine';
    playerScore.submarine = 10;
  }

  if (playerScore.cruiser === 3) {
    infoDisplay.innerHTML = 'You sunk the computers cruiser';
    playerScore.cruiser = 10;
  }

  if (playerScore.battleship === 4) {
    infoDisplay.innerHTML = 'You sunk the computers battleship';
    playerScore.battleship = 10;
  }

  if (playerScore.carrier === 5) {
    infoDisplay.innerHTML = 'You sunk the computers carrier';
    playerScore.carrier = 10;
  }
}

function checkShips() {
  checkPlayerShips();
  checkComputerShips();
  playerTotal = Object.values(playerScore).reduce(function (total, value) {
    return total + value;
  }, 0);
  console.log("Player Score: ".concat(playerTotal));
  computerTotal = Object.values(computerScore).reduce(function (total, value) {
    return total + value;
  }, 0);
  console.log("Computer Score: ".concat(computerTotal));
}

function checkForWins() {
  if (playerTotal === 50) {
    infoDisplay.innerHTML = 'Player One Wins!';
    gameOver();
  } else if (computerTotal === 50) {
    infoDisplay.innerHTML = 'Computer Wins!';
    gameOver();
  }
}

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ var __webpack_exports__ = (__webpack_exec__("./src/index.js"));
/******/ }
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixXQUFXLEtBQUssRUFBcEIsRUFBd0I7SUFDdEJWLFdBQVcsQ0FBQzBGLFNBQVosR0FBd0Isa0JBQXhCO0lBQ0FJLFFBQVE7RUFDVCxDQUhELE1BR08sSUFBSW5GLGFBQWEsS0FBSyxFQUF0QixFQUEwQjtJQUMvQlgsV0FBVyxDQUFDMEYsU0FBWixHQUF3QixnQkFBeEI7SUFDQUksUUFBUTtFQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLWdhbWUvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5cbmNvbnN0IHVzZXJCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXVzZXItYm9hcmRdJyk7XG5jb25zdCBjb21wdXRlckJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29tcHV0ZXItYm9hcmRdJyk7XG5jb25zdCBkZXN0cm95ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1kZXN0cm95ZXItc2hpcF0nKTtcbmNvbnN0IHN1Ym1hcmluZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXN1Ym1hcmluZS1zaGlwXScpO1xuY29uc3QgY3J1aXNlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNydWlzZXItc2hpcF0nKTtcbmNvbnN0IGJhdHRsZXNoaXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1iYXR0bGVzaGlwLXNoaXBdJyk7XG5jb25zdCBjYXJyaWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY2Fycmllci1zaGlwXScpO1xuY29uc3Qgc3RhcnRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zdGFydC1idXR0b25dJyk7XG5jb25zdCByb3RhdGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1yb3RhdGUtYnV0dG9uXScpO1xuY29uc3Qgc2hpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2hpcCcpO1xuY29uc3Qgc2hpcHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaGlwcy1jb250YWluZXJdJyk7XG5jb25zdCB0dXJuRGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXR1cm4tZGlzcGxheV0nKTtcbmNvbnN0IGluZm9EaXNwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtaW5mby1kaXNwbGF5XScpO1xuY29uc3QgcGxheWVyU3F1YXJlcyA9IFtdO1xuY29uc3QgY29tcHV0ZXJTcXVhcmVzID0gW107XG5jb25zdCB3aWR0aCA9IDEwO1xubGV0IGlzSG9yaXpvbnRhbCA9IHRydWU7XG5sZXQgaXNHYW1lT3ZlciA9IGZhbHNlO1xubGV0IGN1cnJlbnRQbGF5ZXIgPSAndXNlcic7XG5sZXQgc2VsZWN0ZWRTaGlwTmFtZVdpdGhJbmRleDtcbmxldCBkcmFnZ2VkU2hpcDtcbmxldCBkcmFnZ2VkU2hpcExlbmd0aDtcbmxldCBwbGF5ZXJUb3RhbDtcbmxldCBjb21wdXRlclRvdGFsO1xuXG4vLyBDcmVhdGUgYm9hcmRcbmZ1bmN0aW9uIGRpc3BsYXlCb2FyZChncmlkLCBzcXVhcmVzKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgd2lkdGggKiB3aWR0aDsgaSArPSAxKSB7XG4gICAgY29uc3Qgc3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc3F1YXJlLmRhdGFzZXQuaWQgPSBpO1xuICAgIGdyaWQuYXBwZW5kQ2hpbGQoc3F1YXJlKTtcbiAgICBzcXVhcmVzLnB1c2goc3F1YXJlKTtcbiAgfVxufVxuXG5jb25zdCBjcmVhdGVTaGlwcyA9ICgpID0+IFtcbiAge1xuICAgIG5hbWU6ICdkZXN0cm95ZXInLFxuICAgIGRpcmVjdGlvbnM6IFtcbiAgICAgIFswLCAxXSxcbiAgICAgIFswLCB3aWR0aF0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdzdWJtYXJpbmUnLFxuICAgIGRpcmVjdGlvbnM6IFtcbiAgICAgIFswLCAxLCAyXSxcbiAgICAgIFswLCB3aWR0aCwgd2lkdGggKiAyXSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ2NydWlzZXInLFxuICAgIGRpcmVjdGlvbnM6IFtcbiAgICAgIFswLCAxLCAyXSxcbiAgICAgIFswLCB3aWR0aCwgd2lkdGggKiAyXSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ2JhdHRsZXNoaXAnLFxuICAgIGRpcmVjdGlvbnM6IFtcbiAgICAgIFswLCAxLCAyLCAzXSxcbiAgICAgIFswLCB3aWR0aCwgd2lkdGggKiAyLCB3aWR0aCAqIDNdLFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnY2FycmllcicsXG4gICAgZGlyZWN0aW9uczogW1xuICAgICAgWzAsIDEsIDIsIDMsIDRdLFxuICAgICAgWzAsIHdpZHRoLCB3aWR0aCAqIDIsIHdpZHRoICogMywgd2lkdGggKiA0XSxcbiAgICBdLFxuICB9LFxuXTtcblxuZnVuY3Rpb24gZGlzcGxheVNoaXBzUmFuZG9tKHNoaXApIHtcbiAgbGV0IHJhbmRvbVN0YXJ0O1xuICBjb25zdCByYW5kb21EaXJlY3Rpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKTsgLy8gMCBvciAxXG4gIGNvbnN0IGN1cnJlbnQgPSBzaGlwLmRpcmVjdGlvbnNbcmFuZG9tRGlyZWN0aW9uXTtcbiAgaWYgKHJhbmRvbURpcmVjdGlvbiA9PT0gMCkge1xuICAgIHJhbmRvbVN0YXJ0ID0gTWF0aC5hYnMoXG4gICAgICBNYXRoLmZsb29yKFxuICAgICAgICBNYXRoLnJhbmRvbSgpICogY29tcHV0ZXJTcXVhcmVzLmxlbmd0aCAtIHNoaXAuZGlyZWN0aW9uc1swXS5sZW5ndGggKiAxLFxuICAgICAgKSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJhbmRvbVN0YXJ0ID0gTWF0aC5hYnMoXG4gICAgICBNYXRoLmZsb29yKFxuICAgICAgICBNYXRoLnJhbmRvbSgpICogY29tcHV0ZXJTcXVhcmVzLmxlbmd0aCAtIHNoaXAuZGlyZWN0aW9uc1swXS5sZW5ndGggKiAxMCxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuICBjb25zdCBpc1Rha2VuID0gY3VycmVudC5zb21lKChpbmRleCkgPT4gY29tcHV0ZXJTcXVhcmVzW3JhbmRvbVN0YXJ0ICsgaW5kZXhdLmNsYXNzTGlzdC5jb250YWlucygndGFrZW4nKSk7XG4gIGNvbnN0IGlzQXRSaWdodEVkZ2UgPSBjdXJyZW50LnNvbWUoXG4gICAgKGluZGV4KSA9PiAocmFuZG9tU3RhcnQgKyBpbmRleCkgJSB3aWR0aCA9PT0gd2lkdGggLSAxLFxuICApO1xuICBjb25zdCBpc0F0TGVmdEVkZ2UgPSBjdXJyZW50LnNvbWUoXG4gICAgKGluZGV4KSA9PiAocmFuZG9tU3RhcnQgKyBpbmRleCkgJSB3aWR0aCA9PT0gMCxcbiAgKTtcblxuICBpZiAoIWlzVGFrZW4gJiYgIWlzQXRSaWdodEVkZ2UgJiYgIWlzQXRMZWZ0RWRnZSkge1xuICAgIGN1cnJlbnQuZm9yRWFjaCgoaW5kZXgpID0+IGNvbXB1dGVyU3F1YXJlc1tyYW5kb21TdGFydCArIGluZGV4XS5jbGFzc0xpc3QuYWRkKCd0YWtlbicsIHNoaXAubmFtZSkpO1xuICB9IGVsc2UgZGlzcGxheVNoaXBzUmFuZG9tKHNoaXApO1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5Q29tcHV0ZXJTaGlwcyhiYXR0bGVTaGlwcykge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkgKz0gMSkge1xuICAgIGRpc3BsYXlTaGlwc1JhbmRvbShiYXR0bGVTaGlwc1tpXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcm90YXRlU2hpcHMoKSB7XG4gIGlmIChpc0hvcml6b250YWwpIHtcbiAgICBkZXN0cm95ZXIuY2xhc3NMaXN0LnRvZ2dsZSgnZGVzdHJveWVyLWNvbnRhaW5lci12ZXJ0aWNhbCcpO1xuICAgIHN1Ym1hcmluZS5jbGFzc0xpc3QudG9nZ2xlKCdzdWJtYXJpbmUtY29udGFpbmVyLXZlcnRpY2FsJyk7XG4gICAgY3J1aXNlci5jbGFzc0xpc3QudG9nZ2xlKCdjcnVpc2VyLWNvbnRhaW5lci12ZXJ0aWNhbCcpO1xuICAgIGJhdHRsZXNoaXAuY2xhc3NMaXN0LnRvZ2dsZSgnYmF0dGxlc2hpcC1jb250YWluZXItdmVydGljYWwnKTtcbiAgICBjYXJyaWVyLmNsYXNzTGlzdC50b2dnbGUoJ2NhcnJpZXItY29udGFpbmVyLXZlcnRpY2FsJyk7XG4gICAgaXNIb3Jpem9udGFsID0gIWlzSG9yaXpvbnRhbDtcbiAgfSBlbHNlIGlmICghaXNIb3Jpem9udGFsKSB7XG4gICAgZGVzdHJveWVyLmNsYXNzTGlzdC50b2dnbGUoJ2Rlc3Ryb3llci1jb250YWluZXItdmVydGljYWwnKTtcbiAgICBzdWJtYXJpbmUuY2xhc3NMaXN0LnRvZ2dsZSgnc3VibWFyaW5lLWNvbnRhaW5lci12ZXJ0aWNhbCcpO1xuICAgIGNydWlzZXIuY2xhc3NMaXN0LnRvZ2dsZSgnY3J1aXNlci1jb250YWluZXItdmVydGljYWwnKTtcbiAgICBiYXR0bGVzaGlwLmNsYXNzTGlzdC50b2dnbGUoJ2JhdHRsZXNoaXAtY29udGFpbmVyLXZlcnRpY2FsJyk7XG4gICAgY2Fycmllci5jbGFzc0xpc3QudG9nZ2xlKCdjYXJyaWVyLWNvbnRhaW5lci12ZXJ0aWNhbCcpO1xuICAgIGlzSG9yaXpvbnRhbCA9ICFpc0hvcml6b250YWw7XG4gIH1cbn1cblxuZnVuY3Rpb24gZHJhZ0Ryb3AoKSB7XG4gIC8vIEdldCBpZCBvZiB0aGUgbGFzdCBjaGlsZCBvZiBgJHtuYW1lT2ZTaGlwfS1jb250YWluZXJgXG4gIGNvbnN0IHNoaXBOYW1lV2l0aExhc3RJZCA9IGRyYWdnZWRTaGlwLmxhc3RFbGVtZW50Q2hpbGQuaWQ7XG4gIC8vIFJlbW92ZSB0aGUgbGFzdCAyIGxldHRlcnMgb2YgdGhlIHN0cmluZ1xuICBjb25zdCBzaGlwQ2xhc3MgPSBzaGlwTmFtZVdpdGhMYXN0SWQuc2xpY2UoMCwgLTIpO1xuICAvLyBHZXQgdGhlIGxhc3QgbGV0dGVyIG9mIHRoZSBzdHJpbmcgYW5kIGNvbnZlcnQgdG8gYW4gSW50ZWdlclxuICBjb25zdCBsYXN0U2hpcEluZGV4ID0gcGFyc2VJbnQoc2hpcE5hbWVXaXRoTGFzdElkLnN1YnN0cigtMSksIDEwKTtcbiAgLy8gTGFzdCBzaGlwIGluZGV4IC0gZGF0YXNldCBvZiB0aGUgZGl2IGluIHdoaWNoIHRoZSBkaXYgd2FzIHBsYWNlZFxuICBsZXQgc2hpcExhc3RJZCA9IGxhc3RTaGlwSW5kZXggKyBwYXJzZUludCh0aGlzLmRhdGFzZXQuaWQsIDEwKTtcbiAgY29uc3Qgbm90QWxsb3dlZEhvcml6b250YWwgPSBbXG4gICAgMCwgMTAsIDIwLCAzMCwgNDAsIDUwLCA2MCwgNzAsIDgwLCA5MCwgMSwgMTEsIDIxLCAzMSwgNDEsIDUxLCA2MSwgNzEsIDgxLFxuICAgIDkxLCAyLCAyMiwgMzIsIDQyLCA1MiwgNjIsIDcyLCA4MiwgOTIsIDMsIDEzLCAyMywgMzMsIDQzLCA1MywgNjMsIDczLCA4MyxcbiAgICA5MyxcbiAgXTtcbiAgY29uc3Qgbm90QWxsb3dlZFZlcnRpY2FsID0gW1xuICAgIDk5LCA5OCwgOTcsIDk2LCA5NSwgOTQsIDkzLCA5MiwgOTEsIDkwLCA4OSwgODgsIDg3LCA4NiwgODUsIDg0LCA4MywgODIsIDgxLFxuICAgIDgwLCA3OSwgNzgsIDc3LCA3NiwgNzUsIDc0LCA3MywgNzIsIDcxLCA3MCwgNjksIDY4LCA2NywgNjYsIDY1LCA2NCwgNjMsIDYyLFxuICAgIDYxLCA2MCxcbiAgXTtcbiAgLy8gUmV0dXJuIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGZpcnN0IHggYW1vdW50IG9mIGl0ZW1zICh4ID0gMCwgMTAgKiBsYXN0U2hpcEluZGV4KVxuICBjb25zdCBuZXdOb3RBbGxvd2VkSG9yaXpvbnRhbCA9IG5vdEFsbG93ZWRIb3Jpem9udGFsLnNwbGljZShcbiAgICAwLFxuICAgIDEwICogbGFzdFNoaXBJbmRleCxcbiAgKTtcbiAgY29uc3QgbmV3Tm90QWxsb3dlZFZlcnRpY2FsID0gbm90QWxsb3dlZFZlcnRpY2FsLnNwbGljZShcbiAgICAwLFxuICAgIDEwICogbGFzdFNoaXBJbmRleCxcbiAgKTtcbiAgLy8gR2V0IGlkIG9mIHRoZSBjaGlsZCBvZiB0aGUgc2hpcC1jb250YWluZXIgdGhhdCB3YXMgXCJtb3VzZWRvd25cIiB0aGVuIGdldCBsYXN0IGNoYXJcbiAgY29uc3Qgc2VsZWN0ZWRTaGlwSW5kZXggPSBwYXJzZUludChzZWxlY3RlZFNoaXBOYW1lV2l0aEluZGV4LnN1YnN0cigtMSksIDEwKTtcbiAgc2hpcExhc3RJZCAtPSBzZWxlY3RlZFNoaXBJbmRleDtcblxuICBjb25zdCBzaGlwSG9yaXpvbnRhbCA9IFtdO1xuICBjb25zdCBzaGlwVmVydGljYWwgPSBbXTtcbiAgbGV0IGlzRGl2VGFrZW47XG5cbiAgY29uc3QgY2hlY2tBcnJheSA9IChhcnJheSkgPT4ge1xuICAgIGlmIChhcnJheS5pbmNsdWRlcyh0cnVlKSkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGlmIChpc0hvcml6b250YWwpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRyYWdnZWRTaGlwTGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGlzVGFrZW4gPSBwbGF5ZXJTcXVhcmVzW1xuICAgICAgICBwYXJzZUludCh0aGlzLmRhdGFzZXQuaWQsIDEwKSAtIHNlbGVjdGVkU2hpcEluZGV4ICsgaVxuICAgICAgXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Rha2VuJyk7XG4gICAgICBzaGlwSG9yaXpvbnRhbC5wdXNoKGlzVGFrZW4pO1xuICAgICAgaXNEaXZUYWtlbiA9IGNoZWNrQXJyYXkoc2hpcEhvcml6b250YWwpO1xuICAgIH1cbiAgfSBlbHNlIGlmICghaXNIb3Jpem9udGFsKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkcmFnZ2VkU2hpcExlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBpc1Rha2VuID0gcGxheWVyU3F1YXJlc1tcbiAgICAgICAgcGFyc2VJbnQodGhpcy5kYXRhc2V0LmlkLCAxMCkgLSBzZWxlY3RlZFNoaXBJbmRleCArIHdpZHRoICogaVxuICAgICAgXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Rha2VuJyk7XG4gICAgICBzaGlwVmVydGljYWwucHVzaChpc1Rha2VuKTtcbiAgICAgIGlzRGl2VGFrZW4gPSBjaGVja0FycmF5KHNoaXBWZXJ0aWNhbCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKFxuICAgICFpc0RpdlRha2VuXG4gICAgJiYgaXNIb3Jpem9udGFsXG4gICAgJiYgIW5ld05vdEFsbG93ZWRIb3Jpem9udGFsLmluY2x1ZGVzKHNoaXBMYXN0SWQpXG4gICkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHJhZ2dlZFNoaXBMZW5ndGg7IGkgKz0gMSkge1xuICAgICAgbGV0IGRpcmVjdGlvbkNsYXNzO1xuICAgICAgaWYgKGkgPT09IDApIGRpcmVjdGlvbkNsYXNzID0gJ3N0YXJ0JztcbiAgICAgIGlmIChpICE9PSAwICYmIGkgIT09IGRyYWdnZWRTaGlwTGVuZ3RoIC0gMSkgZGlyZWN0aW9uQ2xhc3MgPSAnbWlkZGxlJztcbiAgICAgIGlmIChpID09PSBkcmFnZ2VkU2hpcExlbmd0aCAtIDEpIGRpcmVjdGlvbkNsYXNzID0gJ2VuZCc7XG4gICAgICBwbGF5ZXJTcXVhcmVzW1xuICAgICAgICBwYXJzZUludCh0aGlzLmRhdGFzZXQuaWQsIDEwKSAtIHNlbGVjdGVkU2hpcEluZGV4ICsgaVxuICAgICAgXS5jbGFzc0xpc3QuYWRkKCd0YWtlbicsICdob3Jpem9udGFsJywgZGlyZWN0aW9uQ2xhc3MsIHNoaXBDbGFzcyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKFxuICAgICFpc0RpdlRha2VuXG4gICAgJiYgIWlzSG9yaXpvbnRhbFxuICAgICYmICFuZXdOb3RBbGxvd2VkVmVydGljYWwuaW5jbHVkZXMoc2hpcExhc3RJZClcbiAgKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkcmFnZ2VkU2hpcExlbmd0aDsgaSArPSAxKSB7XG4gICAgICBsZXQgZGlyZWN0aW9uQ2xhc3M7XG4gICAgICBpZiAoaSA9PT0gMCkgZGlyZWN0aW9uQ2xhc3MgPSAnc3RhcnQnO1xuICAgICAgaWYgKGkgIT09IDAgJiYgaSAhPT0gZHJhZ2dlZFNoaXBMZW5ndGggLSAxKSBkaXJlY3Rpb25DbGFzcyA9ICdtaWRkbGUnO1xuICAgICAgaWYgKGkgPT09IGRyYWdnZWRTaGlwTGVuZ3RoIC0gMSkgZGlyZWN0aW9uQ2xhc3MgPSAnZW5kJztcbiAgICAgIHBsYXllclNxdWFyZXNbXG4gICAgICAgIHBhcnNlSW50KHRoaXMuZGF0YXNldC5pZCwgMTApIC0gc2VsZWN0ZWRTaGlwSW5kZXggKyB3aWR0aCAqIGlcbiAgICAgIF0uY2xhc3NMaXN0LmFkZCgndGFrZW4nLCAndmVydGljYWwnLCBzaGlwQ2xhc3MsIGRpcmVjdGlvbkNsYXNzKTtcbiAgICB9XG4gIH0gZWxzZSByZXR1cm47XG5cbiAgc2hpcHNDb250YWluZXIucmVtb3ZlQ2hpbGQoZHJhZ2dlZFNoaXApO1xufVxuXG5mdW5jdGlvbiBkcmFnU3RhcnQoKSB7XG4gIGRyYWdnZWRTaGlwID0gdGhpcztcbiAgZHJhZ2dlZFNoaXBMZW5ndGggPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gcHJldmVudEV2ZW50RGVmYXVsdChlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbn1cblxuZnVuY3Rpb24gZHJhZ1NoaXBzKHNoaXBzKSB7XG4gIHNoaXBzLmZvckVhY2goKHNoaXApID0+IHNoaXAuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgZHJhZ1N0YXJ0KSk7XG4gIHNoaXBzLmZvckVhY2goKHNoaXApID0+IHNoaXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICBzZWxlY3RlZFNoaXBOYW1lV2l0aEluZGV4ID0gZS50YXJnZXQuaWQ7XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gZHJhZ1NxdWFyZXMocGxheWVyU3F1YXJlcykge1xuICBwbGF5ZXJTcXVhcmVzLmZvckVhY2goKHNxdWFyZSkgPT4gc3F1YXJlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGRyYWdTdGFydCkpO1xuICBwbGF5ZXJTcXVhcmVzLmZvckVhY2goKHNxdWFyZSkgPT4gc3F1YXJlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgcHJldmVudEV2ZW50RGVmYXVsdCkpO1xuICBwbGF5ZXJTcXVhcmVzLmZvckVhY2goKHNxdWFyZSkgPT4gc3F1YXJlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIHByZXZlbnRFdmVudERlZmF1bHQpKTtcbiAgcGxheWVyU3F1YXJlcy5mb3JFYWNoKChzcXVhcmUpID0+IHNxdWFyZS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgZHJhZ0Ryb3ApKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2hpcHNUYWxseSgpIHtcbiAgcmV0dXJuIHtcbiAgICBkZXN0cm95ZXI6IDAsXG4gICAgc3VibWFyaW5lOiAwLFxuICAgIGNydWlzZXI6IDAsXG4gICAgYmF0dGxlc2hpcDogMCxcbiAgICBjYXJyaWVyOiAwLFxuICB9O1xufVxuXG5jb25zdCBwbGF5ZXJTY29yZSA9IGNyZWF0ZVNoaXBzVGFsbHkoKTtcbmNvbnN0IGNvbXB1dGVyU2NvcmUgPSBjcmVhdGVTaGlwc1RhbGx5KCk7XG5cbmZ1bmN0aW9uIGNoYW5nZVR1cm4oKSB7XG4gIGlmIChjdXJyZW50UGxheWVyID09PSAnY29tcHV0ZXInKSB7XG4gICAgY3VycmVudFBsYXllciA9ICd1c2VyJztcbiAgfSBlbHNlIGlmIChjdXJyZW50UGxheWVyID09PSAndXNlcicpIHtcbiAgICBjdXJyZW50UGxheWVyID0gJ2NvbXB1dGVyJztcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0hpdChzcXVhcmUpIHtcbiAgaWYgKHNxdWFyZS5jbGFzc0xpc3QuY29udGFpbnMoJ2Jvb20nKSkge1xuICAgIGlmIChzcXVhcmUuY2xhc3NMaXN0LmNvbnRhaW5zKCdkZXN0cm95ZXInKSkgcGxheWVyU2NvcmUuZGVzdHJveWVyICs9IDE7XG4gICAgaWYgKHNxdWFyZS5jbGFzc0xpc3QuY29udGFpbnMoJ3N1Ym1hcmluZScpKSBwbGF5ZXJTY29yZS5zdWJtYXJpbmUgKz0gMTtcbiAgICBpZiAoc3F1YXJlLmNsYXNzTGlzdC5jb250YWlucygnY3J1aXNlcicpKSBwbGF5ZXJTY29yZS5jcnVpc2VyICs9IDE7XG4gICAgaWYgKHNxdWFyZS5jbGFzc0xpc3QuY29udGFpbnMoJ2JhdHRsZXNoaXAnKSkgcGxheWVyU2NvcmUuYmF0dGxlc2hpcCArPSAxO1xuICAgIGlmIChzcXVhcmUuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJyaWVyJykpIHBsYXllclNjb3JlLmNhcnJpZXIgKz0gMTtcbiAgICBjaGVja1NoaXBzKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tBY2N1cmFjeShzcXVhcmUpIHtcbiAgaWYgKCFzcXVhcmUuY2xhc3NMaXN0LmNvbnRhaW5zKCdib29tJykgJiYgIXNxdWFyZS5jbGFzc0xpc3QuY29udGFpbnMoJ21pc3MnKSkge1xuICAgIGlmIChzcXVhcmUuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWtlbicpKSB7XG4gICAgICBzcXVhcmUuY2xhc3NMaXN0LmFkZCgnYm9vbScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcXVhcmUuY2xhc3NMaXN0LmFkZCgnbWlzcycpO1xuICAgIH1cbiAgICBjaGVja0hpdChzcXVhcmUpO1xuICAgIGNoYW5nZVR1cm4oKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXZlYWxTcXVhcmUoc3F1YXJlKSB7XG4gIGlmIChpc0dhbWVPdmVyKSByZXR1cm47XG4gIGlmIChjdXJyZW50UGxheWVyID09PSAndXNlcicpIHtcbiAgICBjaGVja0FjY3VyYWN5KHNxdWFyZSk7XG4gICAgcGxheVR1cm4oKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21wdXRlckdvKCkge1xuICBjb25zdCByYW5kb20gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwbGF5ZXJTcXVhcmVzLmxlbmd0aCk7XG4gIGlmICghcGxheWVyU3F1YXJlc1tyYW5kb21dLmNsYXNzTGlzdC5jb250YWlucygnYm9vbScpKSB7XG4gICAgcGxheWVyU3F1YXJlc1tyYW5kb21dLmNsYXNzTGlzdC5hZGQoJ2Jvb20nKTtcbiAgICBpZiAocGxheWVyU3F1YXJlc1tyYW5kb21dLmNsYXNzTGlzdC5jb250YWlucygnZGVzdHJveWVyJykpIHtcbiAgICAgIGNvbXB1dGVyU2NvcmUuZGVzdHJveWVyICs9IDE7XG4gICAgfVxuICAgIGlmIChwbGF5ZXJTcXVhcmVzW3JhbmRvbV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzdWJtYXJpbmUnKSkge1xuICAgICAgY29tcHV0ZXJTY29yZS5zdWJtYXJpbmUgKz0gMTtcbiAgICB9XG4gICAgaWYgKHBsYXllclNxdWFyZXNbcmFuZG9tXS5jbGFzc0xpc3QuY29udGFpbnMoJ2NydWlzZXInKSkge1xuICAgICAgY29tcHV0ZXJTY29yZS5jcnVpc2VyICs9IDE7XG4gICAgfVxuICAgIGlmIChwbGF5ZXJTcXVhcmVzW3JhbmRvbV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdiYXR0bGVzaGlwJykpIHtcbiAgICAgIGNvbXB1dGVyU2NvcmUuYmF0dGxlc2hpcCArPSAxO1xuICAgIH1cbiAgICBpZiAocGxheWVyU3F1YXJlc1tyYW5kb21dLmNsYXNzTGlzdC5jb250YWlucygnY2FycmllcicpKSB7XG4gICAgICBjb21wdXRlclNjb3JlLmNhcnJpZXIgKz0gMTtcbiAgICB9XG4gIH0gZWxzZSBjb21wdXRlckdvKCk7XG4gIGNoZWNrU2hpcHMoKTtcbiAgY3VycmVudFBsYXllciA9ICd1c2VyJztcbiAgdHVybkRpc3BsYXkuaW5uZXJIVE1MID0gJ1lvdXIgR28nO1xufVxuXG5mdW5jdGlvbiBwbGF5VHVybigpIHtcbiAgaWYgKGN1cnJlbnRQbGF5ZXIgPT09ICd1c2VyJykge1xuICAgIHR1cm5EaXNwbGF5LmlubmVySFRNTCA9ICdZb3VyIEdvJztcbiAgfSBlbHNlIGlmIChjdXJyZW50UGxheWVyID09PSAnY29tcHV0ZXInKSB7XG4gICAgdHVybkRpc3BsYXkuaW5uZXJIVE1MID0gJ0NvbXB1dGVycyBHbyc7XG4gICAgc2V0VGltZW91dChjb21wdXRlckdvLCAxMDApO1xuICAgIGNoZWNrRm9yV2lucygpO1xuICAgIGNoYW5nZVR1cm4oKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwbGF5R2FtZSgpIHtcbiAgY29tcHV0ZXJTcXVhcmVzLmZvckVhY2goKHNxdWFyZSkgPT4gc3F1YXJlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHJldmVhbFNxdWFyZShzcXVhcmUpO1xuICB9KSk7XG4gIHBsYXlUdXJuKCk7XG59XG5cbmZ1bmN0aW9uIGdhbWVPdmVyKCkge1xuICBpc0dhbWVPdmVyID0gdHJ1ZTtcbiAgc3RhcnRCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGF5R2FtZSk7XG59XG5cbmZ1bmN0aW9uIHJ1bkdhbWUoKSB7XG4gIGRpc3BsYXlCb2FyZCh1c2VyQm9hcmQsIHBsYXllclNxdWFyZXMpO1xuICBkaXNwbGF5Qm9hcmQoY29tcHV0ZXJCb2FyZCwgY29tcHV0ZXJTcXVhcmVzKTtcbiAgY29uc3QgYmF0dGxlU2hpcHMgPSBjcmVhdGVTaGlwcygpO1xuICBkaXNwbGF5Q29tcHV0ZXJTaGlwcyhiYXR0bGVTaGlwcyk7XG4gIHJvdGF0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJvdGF0ZVNoaXBzKTtcbiAgZHJhZ1NoaXBzKHNoaXBzKTtcbiAgZHJhZ1NxdWFyZXMocGxheWVyU3F1YXJlcyk7XG4gIHN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGxheUdhbWUpO1xufVxuXG5ydW5HYW1lKCk7XG5cbmZ1bmN0aW9uIGNoZWNrQ29tcHV0ZXJTaGlwcygpIHtcbiAgaWYgKGNvbXB1dGVyU2NvcmUuZGVzdHJveWVyID09PSAyKSB7XG4gICAgaW5mb0Rpc3BsYXkuaW5uZXJIVE1MID0gJ0NvbXB1dGVyICBzdW5rIHRoZSBjb21wdXRlcnMgRGVzdHJveWVyJztcbiAgICBjb21wdXRlclNjb3JlLmRlc3Ryb3llciA9IDEwO1xuICB9XG4gIGlmIChjb21wdXRlclNjb3JlLnN1Ym1hcmluZSA9PT0gMykge1xuICAgIGluZm9EaXNwbGF5LmlubmVySFRNTCA9ICdDb21wdXRlciAgc3VuayB0aGUgY29tcHV0ZXJzIFN1Ym1hcmluZSc7XG4gICAgY29tcHV0ZXJTY29yZS5zdWJtYXJpbmUgPSAxMDtcbiAgfVxuICBpZiAoY29tcHV0ZXJTY29yZS5jcnVpc2VyID09PSAzKSB7XG4gICAgaW5mb0Rpc3BsYXkuaW5uZXJIVE1MID0gJ0NvbXB1dGVyICBzdW5rIHRoZSBjb21wdXRlcnMgQ3J1aXNlcic7XG4gICAgY29tcHV0ZXJTY29yZS5jcnVpc2VyID0gMTA7XG4gIH1cbiAgaWYgKGNvbXB1dGVyU2NvcmUuYmF0dGxlc2hpcCA9PT0gNCkge1xuICAgIGluZm9EaXNwbGF5LmlubmVySFRNTCA9ICdDb21wdXRlciAgc3VuayB0aGUgY29tcHV0ZXJzIEJhdHRsZXNoaXAnO1xuICAgIGNvbXB1dGVyU2NvcmUuYmF0dGxlc2hpcCA9IDEwO1xuICB9XG4gIGlmIChjb21wdXRlclNjb3JlLmNhcnJpZXIgPT09IDUpIHtcbiAgICBpbmZvRGlzcGxheS5pbm5lckhUTUwgPSAnQ29tcHV0ZXIgc3VuayB0aGUgY29tcHV0ZXJzIENhcnJpZXInO1xuICAgIGNvbXB1dGVyU2NvcmUuY2FycmllciA9IDEwO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrUGxheWVyU2hpcHMoKSB7XG4gIGlmIChwbGF5ZXJTY29yZS5kZXN0cm95ZXIgPT09IDIpIHtcbiAgICBpbmZvRGlzcGxheS5pbm5lckhUTUwgPSAnWW91IHN1bmsgdGhlIGNvbXB1dGVycyBkZXN0cm95ZXInO1xuICAgIHBsYXllclNjb3JlLmRlc3Ryb3llciA9IDEwO1xuICB9XG4gIGlmIChwbGF5ZXJTY29yZS5zdWJtYXJpbmUgPT09IDMpIHtcbiAgICBpbmZvRGlzcGxheS5pbm5lckhUTUwgPSAnWW91IHN1bmsgdGhlIGNvbXB1dGVycyBzdWJtYXJpbmUnO1xuICAgIHBsYXllclNjb3JlLnN1Ym1hcmluZSA9IDEwO1xuICB9XG4gIGlmIChwbGF5ZXJTY29yZS5jcnVpc2VyID09PSAzKSB7XG4gICAgaW5mb0Rpc3BsYXkuaW5uZXJIVE1MID0gJ1lvdSBzdW5rIHRoZSBjb21wdXRlcnMgY3J1aXNlcic7XG4gICAgcGxheWVyU2NvcmUuY3J1aXNlciA9IDEwO1xuICB9XG4gIGlmIChwbGF5ZXJTY29yZS5iYXR0bGVzaGlwID09PSA0KSB7XG4gICAgaW5mb0Rpc3BsYXkuaW5uZXJIVE1MID0gJ1lvdSBzdW5rIHRoZSBjb21wdXRlcnMgYmF0dGxlc2hpcCc7XG4gICAgcGxheWVyU2NvcmUuYmF0dGxlc2hpcCA9IDEwO1xuICB9XG4gIGlmIChwbGF5ZXJTY29yZS5jYXJyaWVyID09PSA1KSB7XG4gICAgaW5mb0Rpc3BsYXkuaW5uZXJIVE1MID0gJ1lvdSBzdW5rIHRoZSBjb21wdXRlcnMgY2Fycmllcic7XG4gICAgcGxheWVyU2NvcmUuY2FycmllciA9IDEwO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrU2hpcHMoKSB7XG4gIGNoZWNrUGxheWVyU2hpcHMoKTtcbiAgY2hlY2tDb21wdXRlclNoaXBzKCk7XG4gIHBsYXllclRvdGFsID0gT2JqZWN0LnZhbHVlcyhwbGF5ZXJTY29yZSkucmVkdWNlKCh0b3RhbCwgdmFsdWUpID0+IHRvdGFsICsgdmFsdWUsIDApO1xuICBjb25zb2xlLmxvZyhgUGxheWVyIFNjb3JlOiAke3BsYXllclRvdGFsfWApO1xuICBjb21wdXRlclRvdGFsID0gT2JqZWN0LnZhbHVlcyhjb21wdXRlclNjb3JlKS5yZWR1Y2UoKHRvdGFsLCB2YWx1ZSkgPT4gdG90YWwgKyB2YWx1ZSwgMCk7XG4gIGNvbnNvbGUubG9nKGBDb21wdXRlciBTY29yZTogJHtjb21wdXRlclRvdGFsfWApO1xufVxuXG5mdW5jdGlvbiBjaGVja0ZvcldpbnMoKSB7XG4gIGlmIChwbGF5ZXJUb3RhbCA9PT0gNTApIHtcbiAgICBpbmZvRGlzcGxheS5pbm5lckhUTUwgPSAnUGxheWVyIE9uZSBXaW5zISc7XG4gICAgZ2FtZU92ZXIoKTtcbiAgfSBlbHNlIGlmIChjb21wdXRlclRvdGFsID09PSA1MCkge1xuICAgIGluZm9EaXNwbGF5LmlubmVySFRNTCA9ICdDb21wdXRlciBXaW5zISc7XG4gICAgZ2FtZU92ZXIoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbInVzZXJCb2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbXB1dGVyQm9hcmQiLCJkZXN0cm95ZXIiLCJzdWJtYXJpbmUiLCJjcnVpc2VyIiwiYmF0dGxlc2hpcCIsImNhcnJpZXIiLCJzdGFydEJ1dHRvbiIsInJvdGF0ZUJ1dHRvbiIsInNoaXBzIiwicXVlcnlTZWxlY3RvckFsbCIsInNoaXBzQ29udGFpbmVyIiwidHVybkRpc3BsYXkiLCJpbmZvRGlzcGxheSIsInBsYXllclNxdWFyZXMiLCJjb21wdXRlclNxdWFyZXMiLCJ3aWR0aCIsImlzSG9yaXpvbnRhbCIsImlzR2FtZU92ZXIiLCJjdXJyZW50UGxheWVyIiwic2VsZWN0ZWRTaGlwTmFtZVdpdGhJbmRleCIsImRyYWdnZWRTaGlwIiwiZHJhZ2dlZFNoaXBMZW5ndGgiLCJwbGF5ZXJUb3RhbCIsImNvbXB1dGVyVG90YWwiLCJkaXNwbGF5Qm9hcmQiLCJncmlkIiwic3F1YXJlcyIsImkiLCJzcXVhcmUiLCJjcmVhdGVFbGVtZW50IiwiZGF0YXNldCIsImlkIiwiYXBwZW5kQ2hpbGQiLCJwdXNoIiwiY3JlYXRlU2hpcHMiLCJuYW1lIiwiZGlyZWN0aW9ucyIsImRpc3BsYXlTaGlwc1JhbmRvbSIsInNoaXAiLCJyYW5kb21TdGFydCIsInJhbmRvbURpcmVjdGlvbiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImN1cnJlbnQiLCJhYnMiLCJsZW5ndGgiLCJpc1Rha2VuIiwic29tZSIsImluZGV4IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJpc0F0UmlnaHRFZGdlIiwiaXNBdExlZnRFZGdlIiwiZm9yRWFjaCIsImFkZCIsImRpc3BsYXlDb21wdXRlclNoaXBzIiwiYmF0dGxlU2hpcHMiLCJyb3RhdGVTaGlwcyIsInRvZ2dsZSIsImRyYWdEcm9wIiwic2hpcE5hbWVXaXRoTGFzdElkIiwibGFzdEVsZW1lbnRDaGlsZCIsInNoaXBDbGFzcyIsInNsaWNlIiwibGFzdFNoaXBJbmRleCIsInBhcnNlSW50Iiwic3Vic3RyIiwic2hpcExhc3RJZCIsIm5vdEFsbG93ZWRIb3Jpem9udGFsIiwibm90QWxsb3dlZFZlcnRpY2FsIiwibmV3Tm90QWxsb3dlZEhvcml6b250YWwiLCJzcGxpY2UiLCJuZXdOb3RBbGxvd2VkVmVydGljYWwiLCJzZWxlY3RlZFNoaXBJbmRleCIsInNoaXBIb3Jpem9udGFsIiwic2hpcFZlcnRpY2FsIiwiaXNEaXZUYWtlbiIsImNoZWNrQXJyYXkiLCJhcnJheSIsImluY2x1ZGVzIiwiZGlyZWN0aW9uQ2xhc3MiLCJyZW1vdmVDaGlsZCIsImRyYWdTdGFydCIsImNoaWxkcmVuIiwicHJldmVudEV2ZW50RGVmYXVsdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImRyYWdTaGlwcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJkcmFnU3F1YXJlcyIsImNyZWF0ZVNoaXBzVGFsbHkiLCJwbGF5ZXJTY29yZSIsImNvbXB1dGVyU2NvcmUiLCJjaGFuZ2VUdXJuIiwiY2hlY2tIaXQiLCJjaGVja1NoaXBzIiwiY2hlY2tBY2N1cmFjeSIsInJldmVhbFNxdWFyZSIsInBsYXlUdXJuIiwiY29tcHV0ZXJHbyIsImlubmVySFRNTCIsInNldFRpbWVvdXQiLCJjaGVja0ZvcldpbnMiLCJwbGF5R2FtZSIsImdhbWVPdmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJ1bkdhbWUiLCJjaGVja0NvbXB1dGVyU2hpcHMiLCJjaGVja1BsYXllclNoaXBzIiwiT2JqZWN0IiwidmFsdWVzIiwicmVkdWNlIiwidG90YWwiLCJ2YWx1ZSIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9